var U=Object.defineProperty,N=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var y=(t,e,r)=>e in t?U(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,w=(t,e)=>{for(var r in e||(e={}))Y.call(e,r)&&y(t,r,e[r]);if(m)for(var r of m(e))q.call(e,r)&&y(t,r,e[r]);return t},O=(t,e)=>N(t,H(e));import{ap as W,aq as $,ar as z,as as M,at as V,au as X,X as I,av as j,am as A,d as P,aw as K,ax as Z,ay as Q,az as J,i as D,aA as v,al as tt,aB as et}from"./index-2ef5172e.js";import{a as d,b as o,l as T}from"./plugin-2a355f86.js";import{u as rt}from"./settingStore-3ad4048f.js";var G=(t=>(t.ECHARTS="echarts",t.NAIVE_UI="naiveUI",t.COMMON="common",t.STATIC="static",t))(G||{}),st=(t=>(t.CHARTS="Charts",t.TABLES="Tables",t.INFORMATIONS="Informations",t.DECORATES="Decorates",t))(st||{}),at=(t=>(t.CHARTS="\u56FE\u8868",t.TABLES="\u5217\u8868",t.INFORMATIONS="\u4FE1\u606F",t.DECORATES="\u5C0F\u7EC4\u4EF6",t))(at||{}),ot=(t=>(t[t.VIEW=0]="VIEW",t[t.CONFIG=1]="CONFIG",t))(ot||{});const it={requestDataType:W.STATIC,requestHttpType:$.GET,requestUrl:"",requestInterval:void 0,requestIntervalUnit:z.SECOND,requestContentType:M.DEFAULT,requestParamsBodyType:V.NONE,requestSQLContent:{sql:"select * from  where"},requestParams:{Body:{"form-data":{},"x-www-form-urlencoded":{},json:"",xml:""},Header:{},Params:{}}};class ct{constructor(){this.id=I(),this.isGroup=!1,this.attr=O(w({},j),{zIndex:-1}),this.styles={filterShow:!1,hueRotate:0,saturate:1,contrast:1,brightness:1,opacity:1,rotateZ:0,rotateX:0,rotateY:0,skewX:0,skewY:0,animations:[]},this.status={lock:!1,hide:!1},this.request=A(it),this.filter=void 0}setPosition(e,r){this.attr.x=e,this.attr.y=r}}class nt extends ct{constructor(){super(...arguments),this.isGroup=!0,this.chartConfig={key:"group",chartKey:"group",conKey:"group",category:"group",categoryName:"group",package:"group",chartFrame:G.COMMON,title:X,image:""},this.groupList=[],this.key="group",this.option={},this.id=I(),this.attr={w:0,h:0,x:0,y:0,offsetX:0,offsetY:0,zIndex:-1}}}const ht=["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"];var ut={color:ht};const lt=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"];var ft={color:lt};const dt=["#fc97af","#87f7cf","#f7f494","#72ccff","#f7c5a0","#d4a4eb","#d2f5a6","#76f2f2"];var gt={color:dt};const Ct=["#893448","#d95850","#eb8146","#ffb248","#f2d643","#ebdba4"];var pt={color:Ct};const St=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"];var Tt={color:St};const bt=["#9b8bba","#e098c7","#8fd3e8","#71669e","#cc70af","#7cb4cc"];var At={color:bt};const Lt=["#e01f54","#5e4ea5","#f5e8c8","#b8d2c7","#c6b38e","#a4d8c2","#f3d999","#d3758f","#dcc392","#2e4783","#82b6e9","#ff6347","#a092f1","#0a915d","#eaf889","#6699FF","#ff6666","#3cb371","#d5b158","#38b6b6"];var Rt={color:Lt};const vt=["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8","#cda819","#32a487"];var Ft={color:vt};const wt=["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d","#787464","#cc7e63","#724e58","#4b565b"];var Ot={color:wt};const Dt=["#3fb1e3","#6be6c1","#626c91","#a0a7e6","#c4ebad","#96dee8"];var It={color:Dt};const kt=["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"];var Et={color:kt};const xt=["#4ea397","#22c3aa","#7bd9a5","#d0648a","#f58db2","#f2b3c9"];var _t={color:xt};const Bt=["#1783FF","#00D5FF","#FF9816","#F8473D"];var mt={color:Bt};const yt=["#0EFFF6","#1978E5","#FFB248","#FF584E"];var Pt={color:yt};const Gt=["#3BC3FF","#FC9810","#7BD9A5","#FF8C6A"];var Ut={color:Gt};const Nt={show:!0,textStyle:{color:"#BFBFBF",fontSize:18},subtextStyle:{color:"#A2A2A2",fontSize:14}},Ht={show:!0,name:"",nameGap:15,nameTextStyle:{color:"#B9B8CE",fontSize:12},inverse:!1,axisLabel:{show:!0,fontSize:12,color:"#B9B8CE"},position:"bottom",axisLine:{show:!0,lineStyle:{color:"#B9B8CE",width:1},onZero:!0},axisTick:{show:!0,length:5},splitLine:{show:!1,lineStyle:{color:"#484753",width:1,type:"solid"}}},Yt={show:!0,name:"",nameGap:15,nameTextStyle:{color:"#B9B8CE",fontSize:12},inverse:!1,axisLabel:{show:!0,fontSize:12,color:"#B9B8CE"},position:"left",axisLine:{show:!0,lineStyle:{color:"#B9B8CE",width:1},onZero:!0},axisTick:{show:!0,length:5},splitLine:{show:!0,lineStyle:{color:"#484753",width:1,type:"solid"}}},qt={show:!0,top:"5%",textStyle:{color:"#B9B8CE"}};var Wt={title:Nt,xAxis:Ht,yAxis:Yt,legend:qt};const ae={technology:mt,fluorescence:Pt,sky:Ut,dark:ft,customed:ut,macarons:Tt,walden:It,purplePassion:At,vintage:Ot,chalk:gt,westeros:Et,wonderland:_t,essos:pt,shine:Ft,roma:Rt},$t="technology",oe={technology:"\u79D1\u6280\u84DD",fluorescence:"\u8367\u5149\u7EFF",sky:"\u5929\u7A7A\u84DD",dark:"\u660E\u4EAE",customed:"\u6697\u6DE1",macarons:"\u9A6C\u5361\u9F99",walden:"\u84DD\u7EFF",purplePassion:"\u6DF1\u7D2B",vintage:"\u590D\u53E4",chalk:"\u7C89\u9752",westeros:"\u7070\u7C89",wonderland:"\u9752\u8349",essos:"\u6A58\u7EA2",shine:"\u6DF1\u8272",roma:"\u7F57\u9A6C\u7EA2"},ie={technology:["#1783FF","#00D5FF","rgba(23, 131, 255, 0.3)","rgba(23, 131, 255, 0.5)","rgba(0, 213, 255, 0.5)"],fluorescence:["#0EFFF6","#1978E5","rgba(14, 255, 246, 0.3)","rgba(14, 255, 246, 0.5)","rgba(25, 120, 229, 0.5)"],sky:["#3BC3FF","#FC9810","rgba(59, 195, 255, 0.3)","rgba(59, 195, 255, 0.5)","rgba(252, 152, 16, 0.5)"],dark:["#4992ff","#7cffb2","rgba(68, 181, 226, 0.3)","rgba(73, 146, 255, 0.5)","rgba(124, 255, 178, 0.5)"],customed:["#5470c6","#91cc75","rgba(84, 112, 198, 0.5)","rgba(84, 112, 198, 0.5)","rgba(145, 204, 117, 0.5)"],macarons:["#2ec7c9","#b6a2de","rgba(182, 162, 222, 0.3)","rgba(46, 199, 201, 0.5)","rgba(182, 162, 222, 0.5)"],walden:["#3fb1e3","#6be6c1","rgba(68, 181, 226, 0.3)","rgba(63, 177, 227, 0.5)","rgba(107, 230, 193, 0.5)"],purplePassion:["#9b8bba","#e098c7","rgba(182, 162, 222, 0.3)","rgba(155, 139, 186, 0.5)","rgba(237, 175, 218, 0.5)"],vintage:["#d87c7c","#919e8b","rgba(182, 162, 222, 0.3)","rgba(216, 124, 124, 0.5)","rgba(145, 158, 139, 0.5)"],chalk:["#fc97af","#87f7cf","rgba(135, 247, 207, 0.3)","rgba(252, 151, 175, 0.5)","rgba(135, 247, 207, 0.5)"],westeros:["#516b91","#edafda","rgba(81, 107, 145, 0.3)","rgba(81, 107, 145, 0.5)","rgba(89, 196, 230, 0.5)"],wonderland:["#4ea397","#22c3aa","rgba(68, 181, 226, 0.3)","rgba(78, 163, 151, 0.5)","rgba(34, 195, 170, 0.5)"],essos:["#893448","#d95850","rgba(137, 52, 72, 0.3)","rgba(137, 52, 72, 0.5)","rgba(217, 88, 80, 0.5)"],shine:["#c12e34","#0098d9","rgba(137, 52, 72, 0.3)","rgba(193, 46, 52, 0.5)","rgba(230, 182, 0, 0.5)"],roma:["#e01f54","#5e4ea5","rgba(137, 52, 72, 0.3)","rgba(224, 31, 84, 0.5)","rgba(94, 78, 165, 0.5)"]},zt=O(w({},Wt),{dataset:null});var i=(t=>(t.ADD="add",t.DELETE="delete",t.UPDATE="update",t.MOVE="move",t.COPY="copy",t.CUT="cut",t.PASTE="paste",t.TOP="top",t.BOTTOM="bottom",t.UP="up",t.DOWN="down",t.GROUP="group",t.UN_GROUP="unGroup",t.SELECT_HISTORY="selectHistory",t))(i||{}),f=(t=>(t.CANVAS="canvas",t.CHART="chart",t))(f||{}),Mt=(t=>(t.BACK_STACK="backStack",t.FORWARD_STACK="forwardStack",t))(Mt||{}),L=(t=>(t.ID="id",t.TARGET_TYPE="targetType",t.ACTION_TYPE="actionType",t.HISTORY_DATA="historyData",t))(L||{});const Vt=P({id:"useChartHistoryStore",state:()=>({backStack:[],forwardStack:[]}),getters:{getBackStack(){return this.backStack},getForwardStack(){return this.forwardStack}},actions:{createStackItem(t,e,r=f.CHART){this.pushBackStackItem(Object.freeze({[L.ID]:new Date().getTime().toString(),[L.HISTORY_DATA]:t,[L.ACTION_TYPE]:e,[L.TARGET_TYPE]:r}))},canvasInit(t){this.createStackItem([t],i.ADD,f.CANVAS)},pushBackStackItem(t,e=!1){t instanceof Array?this.backStack=[...this.backStack,...t]:this.backStack.push(t),this.backStack.splice(0,this.backStack.length-K),!e&&this.clearForwardStack()},pushForwardStack(t){t instanceof Array?this.forwardStack=[...this.forwardStack,...t]:this.forwardStack.push(t)},popBackStackItem(){if(this.backStack.length>0)return this.backStack.pop()},popForwardStack(){if(this.forwardStack.length>0)return this.forwardStack.pop()},clearForwardStack(){this.forwardStack=[]},clearBackStack(){const t=this.getBackStack[0];this.backStack=[t]},backAction(){try{if(d(),this.getBackStack.length>1){const t=this.popBackStackItem();if(!t){o();return}return this.pushForwardStack(t),o(),t}o()}catch(t){T()}},forwardAction(){try{if(d(),this.getForwardStack.length){const t=this.popForwardStack();if(!t){o();return}return this.pushBackStackItem(t,!0),o(),t}o()}catch(t){T()}},createAddHistory(t){this.createStackItem(t,i.ADD,f.CHART)},createUpdateHistory(t){this.createStackItem(t,i.UPDATE,f.CHART)},createDeleteHistory(t){this.createStackItem(t,i.DELETE,f.CHART)},createMoveHistory(t){this.createStackItem(t,i.MOVE,f.CHART)},createLayerHistory(t,e){this.createStackItem(t,e,f.CHART)},createPasteHistory(t){this.createStackItem(t,i.CUT,f.CHART)},createGroupHistory(t){this.createStackItem(t,i.GROUP,f.CHART)},createUnGroupHistory(t){this.createStackItem(t,i.UN_GROUP,f.CHART)}}});var Xt=(t=>(t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t))(Xt||{}),jt=(t=>(t.DRAG_KEY="ChartData",t))(jt||{}),R=(t=>(t.ARROW_UP="up",t.ARROW_RIGHT="right",t.ARROW_DOWN="down",t.ARROW_LEFT="left",t.DELETE="delete",t.COPY="copy",t.CUT="cut",t.PARSE="parse",t.TOP="top",t.BOTTOM="bottom",t.UP="up",t.DOWN="down",t.CLEAR="clear",t.GROUP="group",t.UN_GROUP="unGroup",t.BACK="back",t.FORWORD="forward",t))(R||{}),Kt=(t=>(t.CTRL="ctrl",t.SHIFT="shift",t.ALT=" alt",t.CTRL_SOURCE_KEY="control",t.SHIFT_SOURCE_KEY="shift",t.ALT_SOURCE_KEY="alt",t))(Kt||{}),Zt=(t=>(t.CTRL="\u2318",t.SHIFT="\u21E7",t.ALT="\u2325",t.CTRL_SOURCE_KEY="\u2318",t.SHIFT_SOURCE_KEY="\u21E7",t.ALT_SOURCE_KEY="\u2325",t))(Zt||{}),k=(t=>(t.EDIT_LAYOUT_DOM="editLayoutDom",t.EDIT_CONTENT_DOM="editContentDom",t.OFFSET="offset",t.SCALE="scale",t.USER_SCALE="userScale",t.LOCK_SCALE="lockScale",t.IS_CREATE="isCreate",t.IS_DRAG="isDrag",t.IS_SELECT="isSelect",t))(k||{}),Qt=(t=>(t.WIDTH="width",t.HEIGHT="height",t.CHART_THEME_COLOR="chartThemeColor",t.CHART_THEME_SETTING="chartThemeSetting",t.BACKGROUND="background",t.BACKGROUND_IMAGE="backgroundImage",t.SELECT_COLOR="selectColor",t.PREVIEW_SCALE_TYPE="previewScaleType",t))(Qt||{}),k=(t=>(t.START_X="startX",t.START_Y="startY",t.X="x",t.Y="y",t))(k||{}),F=(t=>(t.EDIT_RANGE="editRange",t.EDIT_CANVAS="editCanvas",t.RIGHT_MENU_SHOW="rightMenuShow",t.MOUSE_POSITION="mousePosition",t.TARGET_CHART="targetChart",t.RECORD_CHART="recordChart",t.EDIT_CANVAS_CONFIG="editCanvasConfig",t.REQUEST_GLOBAL_CONFIG="requestGlobalConfig",t.COMPONENT_LIST="componentList",t))(F||{});const S=Vt(),Jt=rt(),ce=P({id:"useChartEditStore",state:()=>({editCanvas:{editLayoutDom:null,editContentDom:null,offset:20,scale:1,userScale:1,lockScale:!1,isCreate:!1,isDrag:!1,isSelect:!1},rightMenuShow:!1,mousePosition:{startX:0,startY:0,x:0,y:0},targetChart:{hoverId:void 0,selectId:[]},recordChart:void 0,editCanvasConfig:{width:1920,height:1080,filterShow:!1,hueRotate:0,saturate:1,contrast:1,brightness:1,opacity:1,rotateZ:0,rotateX:0,rotateY:0,skewX:0,skewY:0,background:void 0,backgroundImage:void 0,selectColor:!0,chartThemeColor:$t,chartThemeSetting:zt,previewScaleType:Z},requestGlobalConfig:{requestOriginUrl:"",requestInterval:Q,requestIntervalUnit:J,requestParams:{Body:{"form-data":{},"x-www-form-urlencoded":{},json:"",xml:""},Header:{},Params:{}}},componentList:[]}),getters:{getMousePosition(){return this.mousePosition},getRightMenuShow(){return this.rightMenuShow},getEditCanvas(){return this.editCanvas},getEditCanvasConfig(){return this.editCanvasConfig},getTargetChart(){return this.targetChart},getRecordChart(){return this.recordChart},getRequestGlobalConfig(){return this.requestGlobalConfig},getComponentList(){return this.componentList},getStorageInfo(){return{[F.EDIT_CANVAS_CONFIG]:this.getEditCanvasConfig,[F.COMPONENT_LIST]:this.getComponentList,[F.REQUEST_GLOBAL_CONFIG]:this.getRequestGlobalConfig}}},actions:{setEditCanvas(t,e){this.editCanvas[t]=e},setEditCanvasConfig(t,e){this.editCanvasConfig[t]=e},setRightMenuShow(t){this.rightMenuShow=t},setTargetHoverChart(t){this.targetChart.hoverId=t},setTargetSelectChart(t,e=!1){if(!this.targetChart.selectId.find(r=>r===t)){if(!t){this.targetChart.selectId=[];return}if(e){if(D(t)){this.targetChart.selectId.push(t);return}if(v(t)){this.targetChart.selectId.push(...t);return}}else{if(D(t)){this.targetChart.selectId=[t];return}if(v(t)){this.targetChart.selectId=t;return}}}},setRecordChart(t){this.recordChart=A(t)},setMousePosition(t,e,r,s){t&&(this.mousePosition.x=t),e&&(this.mousePosition.y=e),r&&(this.mousePosition.startX=r),s&&(this.mousePosition.startY=s)},fetchTargetIndex(t){const e=t||this.getTargetChart.selectId.length&&this.getTargetChart.selectId[0]||void 0;if(!e)return o(),-1;const r=this.componentList.findIndex(s=>s.id===e);if(r!==-1)return r;{const s=this.getComponentList.length;for(let a=0;a<s;a++)if(this.getComponentList[a].isGroup){for(const n of this.getComponentList[a].groupList)if(n.id===e)return a}}return-1},idPreFormat(t){const e=[];return t?(D(t)&&e.push(t),v(t)&&e.push(...t),e):(e.push(...this.getTargetChart.selectId),e)},addComponentList(t,e=!1,r=!1){if(t instanceof Array){t.forEach(s=>{this.addComponentList(s,e,r)});return}if(r&&S.createAddHistory([t]),e){this.componentList.unshift(t);return}this.componentList.push(t)},removeComponentList(t,e=!0){try{const r=this.idPreFormat(t),s=[];if(!r.length)return;d(),r.forEach(a=>{const n=this.fetchTargetIndex(a);n!==-1&&(s.push(this.getComponentList[n]),this.componentList.splice(n,1))}),e&&S.createDeleteHistory(s),o();return}catch(r){T()}},resetComponentPosition(t,e){const r=this.fetchTargetIndex(t.id);if(r>-1){const s=this.getComponentList[r];e?s.attr=Object.assign(s.attr,{x:t.attr.x+t.attr.offsetX,y:t.attr.y+t.attr.offsetY}):s.attr=Object.assign(s.attr,{x:t.attr.x,y:t.attr.y})}},moveComponentList(t){S.createMoveHistory(t)},updateComponentList(t,e){t<1&&t>this.getComponentList.length||(this.componentList[t]=e)},setPageStyle(t,e){const r=this.getEditCanvas.editContentDom;r&&(r.style[t]=e)},setBothEnds(t=!1,e=!0){try{if(this.getTargetChart.selectId.length>1)return;d();const r=this.getComponentList.length;if(r<2){o();return}const s=this.fetchTargetIndex(),a=this.getComponentList[s];if(s!==-1){if(t&&s===0||!t&&s===r-1){o();return}const n=(h,u)=>{const c=A(h);return c.attr.zIndex=u,c};e&&S.createLayerHistory([n(a,s)],t?i.BOTTOM:i.TOP),this.addComponentList(a,t),this.getComponentList.splice(t?s+1:s,1),o();return}}catch(r){T()}},setTop(t=!0){this.setBothEnds(!1,t)},setBottom(t=!0){this.setBothEnds(!0,t)},wrap(t=!1,e=!0){try{if(this.getTargetChart.selectId.length>1)return;d();const r=this.getComponentList.length;if(r<2){o();return}const s=this.fetchTargetIndex();if(s!==-1){if(t&&s===0||!t&&s===r-1){o();return}const a=t?s-1:s+1,n=this.getComponentList[s],h=this.getComponentList[a];e&&S.createLayerHistory([n],t?i.DOWN:i.UP),this.updateComponentList(s,h),this.updateComponentList(a,n),o();return}}catch(r){T()}},setUp(t=!0){this.wrap(!1,t)},setDown(t=!0){this.wrap(!0,t)},setCopy(t=!1){try{if(this.getTargetChart.selectId.length>1||document.getElementsByClassName("n-modal-body-wrapper").length)return;d();const e=this.fetchTargetIndex();if(e!==-1){const r={charts:this.getComponentList[e],type:t?i.CUT:i.COPY};this.setRecordChart(r),window.$message.success(t?"\u526A\u5207\u56FE\u8868\u6210\u529F":"\u590D\u5236\u56FE\u8868\u6210\u529F\uFF01"),o()}}catch(e){T()}},setCut(){this.setCopy(!0)},setParse(){try{d();const t=this.getRecordChart;if(t===void 0){o();return}const e=s=>(s=A(s),s.id=I(),s.attr.x=this.getMousePosition.x+30,s.attr.y=this.getMousePosition.y+30,s),r=t.type===i.CUT;if(Array.isArray(t.charts)){t.charts.forEach(s=>{this.addComponentList(e(s),void 0,!0),r&&(this.setTargetSelectChart(s.id),this.removeComponentList(void 0,!0))}),r&&this.setRecordChart(void 0),o();return}this.addComponentList(e(t.charts),void 0,!0),r&&(this.setTargetSelectChart(t.charts.id),this.removeComponentList(),this.setRecordChart(void 0)),o()}catch(t){T()}},setBackAndSetForwardHandle(t,e=!1){if(t.targetType===f.CANVAS){this.editCanvas=t.historyData[0];return}let r=t.historyData;v(r)&&r.forEach(l=>{this.setTargetSelectChart(l.id,!0)});const s=t.actionType===i.ADD,a=t.actionType===i.DELETE;if(s||a){if(s&&e||a&&!e){r.forEach(l=>{this.addComponentList(l)});return}r.forEach(l=>{this.removeComponentList(l.id,!1)});return}if(t.actionType===i.MOVE){r.forEach(l=>{this.resetComponentPosition(l,e)});return}const h=t.actionType===i.TOP,u=t.actionType===i.BOTTOM;if(h||u){if(!e){h&&this.getComponentList.pop(),u&&this.getComponentList.shift(),this.getComponentList.splice(r[0].attr.zIndex,0,r[0]);return}h&&this.setTop(!1),u&&this.setBottom(!1)}const c=t.actionType===i.UP,g=t.actionType===i.DOWN;if(c||g){if(c&&e||g&&!e){this.setUp(!1);return}this.setDown(!1);return}const p=t.actionType===i.GROUP,C=t.actionType===i.UN_GROUP;if(p||C){if(p&&e||C&&!e){const l=[];r.length>1?r.forEach(b=>{l.push(b.id)}):r[0].groupList.forEach(b=>{l.push(b.id)}),this.setGroup(l,!1);return}r.length>1?this.setUnGroup([r[0].id],void 0,!1):this.setUnGroup([r[0].groupList[0].id],void 0,!1);return}},setBack(){try{d();const t=S.backAction();if(!t){o();return}this.setBackAndSetForwardHandle(t),o()}catch(t){T()}},setForward(){try{d();const t=S.forwardAction();if(!t){o();return}this.setBackAndSetForwardHandle(t,!0),o()}catch(t){T()}},setMove(t){const e=this.fetchTargetIndex();if(e===-1)return;const r=this.getComponentList[e].attr,s=Jt.getChartMoveDistance;switch(t){case R.ARROW_UP:r.y-=s;break;case R.ARROW_RIGHT:r.x+=s;break;case R.ARROW_DOWN:r.y+=s;break;case R.ARROW_LEFT:r.x-=s;break}},setGroup(t,e=!0){try{const r=this.idPreFormat(t)||this.getTargetChart.selectId;if(r.length<2)return;d();const s=new nt,a={l:this.getEditCanvasConfig.width,t:this.getEditCanvasConfig.height,r:0,b:0},n=[],h=[],u=[];r.forEach(c=>{const g=this.fetchTargetIndex(c);g!==-1&&this.getComponentList[g].isGroup?this.setUnGroup([c],p=>{p.forEach(C=>{this.addComponentList(C),u.push(C.id)})},!1):g!==-1&&u.push(c)}),u.forEach(c=>{const g=this.componentList.splice(this.fetchTargetIndex(c),1)[0],{x:p,y:C,w:l,h:b}=g.attr,{l:E,t:x,r:_,b:B}=a;a.l=E>p?p:E,a.t=x>C?C:x,a.r=_<p+l?p+l:_,a.b=B<C+b?C+b:B,n.push(g),h.push(tt(g))}),e&&S.createGroupHistory(h),n.forEach(c=>{c.attr.x=c.attr.x-a.l,c.attr.y=c.attr.y-a.t,s.groupList.push(c)}),s.attr.x=a.l,s.attr.y=a.t,s.attr.w=a.r-a.l,s.attr.h=a.b-a.t,this.addComponentList(s),this.setTargetSelectChart(s.id),o()}catch(r){console.log(r),window.$message.error("\u521B\u5EFA\u5206\u7EC4\u5931\u8D25\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\uFF01"),o()}},setUnGroup(t,e,r=!0){try{const s=t||this.getTargetChart.selectId;if(s.length!==1)return;d();const a=h=>{const u=this.getComponentList[h];!u.isGroup||(r&&S.createUnGroupHistory(A([u])),u.groupList.forEach(c=>{c.attr.x=c.attr.x+u.attr.x,c.attr.y=c.attr.y+u.attr.y,e||this.addComponentList(c)}),this.setTargetSelectChart(u.id),this.removeComponentList(u.id,!1),e&&e(u.groupList))},n=this.fetchTargetIndex(s[0]);n!==-1&&a(n),o()}catch(s){console.log(s),window.$message.error("\u89E3\u9664\u5206\u7EC4\u5931\u8D25\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\uFF01"),o()}},setPageSize(t){this.setPageStyle("height",`${this.editCanvasConfig.height*t}px`),this.setPageStyle("width",`${this.editCanvasConfig.width*t}px`)},computedScale(){if(this.getEditCanvas.editLayoutDom){const t=this.getEditCanvas.editLayoutDom.clientWidth-this.getEditCanvas.offset*2-5,e=this.getEditCanvas.editLayoutDom.clientHeight-this.getEditCanvas.offset*4,r=this.editCanvasConfig.width,s=this.editCanvasConfig.height,a=parseFloat((r/s).toFixed(5));if(parseFloat((t/e).toFixed(5))>a){const h=parseFloat((e*a/r).toFixed(5));this.setScale(h>1?1:h)}else{const h=parseFloat((t/a/s).toFixed(5));this.setScale(h>1?1:h)}}else window.$message.warning("\u8BF7\u5148\u521B\u5EFA\u753B\u5E03\uFF0C\u518D\u8FDB\u884C\u7F29\u653E")},listenerScale(){const t=et(this.computedScale,200);return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},setScale(t,e=!1){(!this.getEditCanvas.lockScale||e)&&(this.setPageSize(t),this.getEditCanvas.userScale=t,this.getEditCanvas.scale=t)}}});export{F as C,jt as D,k as E,ot as F,Mt as H,R as M,st as P,Kt as W,Vt as a,G as b,ae as c,ct as d,ie as e,$t as f,zt as g,Zt as h,at as i,Xt as j,i as k,f as l,Qt as m,oe as n,ce as u};
