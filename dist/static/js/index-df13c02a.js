import{aj as D,ak as H,a4 as u,x as M,al as h,am as B,an as L,m as U,c as V,e as C,n as F,B as N,h as c,w as m,u as a,F as G,o as $,ao as d}from"./index-6ccd5825.js";import{_ as j}from"./index-9eb04d0b.js";import{u as S,M as s,a as z}from"./chartEditStore-44b9e00c.js";import{l as Y}from"./plugin-514415b8.js";import{i as k}from"./icon-dc9ec865.js";const Ee=(e,t)=>{!window.$vue.component(e)&&t&&window.$vue.component(e,t)},_=e=>D({loader:e,loadingComponent:H,delay:20}),{CopyIcon:K,CutIcon:W,ClipboardOutlineIcon:X,TrashIcon:q,ChevronDownIcon:J,ChevronUpIcon:Q}=k.ionicons5,{UpToTopIcon:Z,DownToBottomIcon:ee,PaintBrushIcon:ne,Carbon3DSoftwareIcon:te,Carbon3DCursorIcon:oe}=k.carbon,n=S(),v=(e=3)=>({type:"divider",key:`d${e}`}),f=[{label:"\u590D\u5236",key:s.COPY,icon:u(K),fnHandle:n.setCopy},{label:"\u526A\u5207",key:s.CUT,icon:u(W),fnHandle:n.setCut},{label:"\u7C98\u8D34",key:s.PARSE,icon:u(X),fnHandle:n.setParse},{type:"divider",key:"d1"},{label:"\u7F6E\u9876",key:s.TOP,icon:u(Z),fnHandle:n.setTop},{label:"\u7F6E\u5E95",key:s.BOTTOM,icon:u(ee),fnHandle:n.setBottom},{label:"\u4E0A\u79FB\u4E00\u5C42",key:s.UP,icon:u(Q),fnHandle:n.setUp},{label:"\u4E0B\u79FB\u4E00\u5C42",key:s.DOWN,icon:u(J),fnHandle:n.setDown},{type:"divider",key:"d2"},{label:"\u6E05\u7A7A\u526A\u8D34\u677F",key:s.CLEAR,icon:u(ne),fnHandle:n.setRecordChart},{label:"\u5220\u9664",key:s.DELETE,icon:u(q),fnHandle:n.removeComponentList}],y=[{label:"\u521B\u5EFA\u5206\u7EC4",key:s.GROUP,icon:u(te),fnHandle:n.setGroup},{label:"\u89E3\u9664\u5206\u7EC4",key:s.UN_GROUP,icon:u(oe),fnHandle:n.setUnGroup}],ae=[s.PARSE,s.CLEAR],g=(e,t)=>{if(!t)return e;const o=[];return t.forEach(i=>{o.push(...e.filter(l=>l.key===i))}),o},se=(e,t)=>t?e.filter(o=>t.findIndex(i=>i!==o.key)!==-1):e,r=M([]),le=(e,t,o,i,l)=>{e.stopPropagation(),e.preventDefault();let p=e.target;for(;p instanceof SVGElement;)p=p.parentNode;n.setRightMenuShow(!1),n.getTargetChart.selectId.length>1?r.value=y:r.value=f,t||(r.value=g(h(r.value),ae)),i&&(r.value=se([...y,v(),...f],i)),l&&(r.value=g([...y,v(),...f],l)),o&&(r.value=o(B(h(r.value)),[...y,...f],t)),L().then(()=>{n.setMousePosition(e.clientX,e.clientY),n.setRightMenuShow(!0)})},re=()=>(r.value=f,{menuOptions:r,defaultOptions:f,defaultMultiSelectOptions:y,handleContextMenu:le,onClickOutSide:()=>{n.setRightMenuShow(!1)},handleMenuSelect:o=>{n.setRightMenuShow(!1);const i=r.value.filter(l=>l.key===o);r.value.forEach(l=>{if(l.key===o){if(l.fnHandle){l.fnHandle();return}i||Y()}})},mousePosition:n.getMousePosition});const ue={class:"go-chart"},ie=V({__name:"index",setup(e){const t=z(),o=S();t.canvasInit(o.getEditCanvas);const i=_(()=>d(()=>import("./index-7e5c9789.js"),["static/js/index-7e5c9789.js","static/css/index-917d09a4.css","static/js/index-6ccd5825.js","static/css/index-9c5d8350.css","static/js/plugin-514415b8.js","static/js/icon-dc9ec865.js","static/js/useKeyboard.hook-0aec168a.js","static/js/chartEditStore-44b9e00c.js","static/js/settingStore-65bf2a19.js","static/js/chartLayoutStore.d-734f340d.js"])),l=_(()=>d(()=>import("./index-9d068e7f.js"),["static/js/index-9d068e7f.js","static/css/index-906b1ecf.css","static/js/index-6ccd5825.js","static/css/index-9c5d8350.css","static/js/plugin-514415b8.js","static/js/icon-dc9ec865.js","static/js/chartEditStore-44b9e00c.js","static/js/settingStore-65bf2a19.js"])),p=_(()=>d(()=>import("./index-a8960086.js"),["static/js/index-a8960086.js","static/css/index-94725ba9.css","static/js/index-6ccd5825.js","static/css/index-9c5d8350.css"])),I=_(()=>d(()=>import("./index-7c1aac04.js"),["static/js/index-7c1aac04.js","static/css/index-edd5c45b.css","static/css/SettingItemBox.vue_vue_type_style_index_0_scoped_true_lang-b14d277a.css","static/js/index-6ccd5825.js","static/css/index-9c5d8350.css","static/js/index-242fe0bc.js","static/css/index-7e31c1d1.css","static/js/icon-dc9ec865.js","static/js/settingStore-65bf2a19.js","static/js/plugin-514415b8.js","static/js/chartLayoutStore.d-734f340d.js","static/js/chartEditStore-44b9e00c.js","static/js/index-b1421cf8.js","static/css/index-4e5fc3c2.css","static/js/_arrayMap-5cc68f6d.js","static/js/table_scrollboard-cd5bf2a6.js","static/js/http-d0ef036b.js","static/js/SettingItemBox-51ef5e55.js","static/js/CollapseItem-78f64ffb.js","static/js/index-9eb04d0b.js","static/js/index-3482ed06.js","static/css/index-f65d65f9.css"])),O=_(()=>d(()=>import("./index-675076f6.js"),["static/js/index-675076f6.js","static/css/index-b5131308.css","static/js/vuedraggable.umd-c939d0b8.js","static/js/index-6ccd5825.js","static/css/index-9c5d8350.css","static/js/index-242fe0bc.js","static/css/index-7e31c1d1.css","static/js/icon-dc9ec865.js","static/js/chartLayoutStore.d-734f340d.js","static/js/chartEditStore-44b9e00c.js","static/js/plugin-514415b8.js","static/js/settingStore-65bf2a19.js","static/js/index-9eb04d0b.js","static/js/index-3482ed06.js","static/css/index-f65d65f9.css"])),w=_(()=>d(()=>import("./index-0f674788.js"),["static/js/index-0f674788.js","static/css/index-3b2c3094.css","static/js/index-6ccd5825.js","static/css/index-9c5d8350.css","static/js/icon-dc9ec865.js","static/js/index-242fe0bc.js","static/css/index-7e31c1d1.css","static/js/chartLayoutStore.d-734f340d.js","static/js/chartEditStore-44b9e00c.js","static/js/plugin-514415b8.js","static/js/settingStore-65bf2a19.js","static/js/index-9eb04d0b.js","static/js/index-3482ed06.js","static/css/index-f65d65f9.css"])),{menuOptions:P,onClickOutSide:b,mousePosition:E,handleMenuSelect:R}=re();return(de,_e)=>{const T=C("n-layout-content"),A=C("n-layout"),x=C("n-dropdown");return $(),F(G,null,[N("div",ue,[c(A,null,{default:m(()=>[c(a(j),null,{left:m(()=>[c(a(i))]),center:m(()=>[c(a(p))]),"ri-left":m(()=>[c(a(l))]),_:1}),c(T,{"content-style":"overflow:hidden; display: flex"},{default:m(()=>[c(a(I)),c(a(O)),c(a(w))]),_:1})]),_:1})]),c(x,{placement:"bottom-start",trigger:"manual",size:"small",x:a(E).x,y:a(E).y,options:a(P),show:a(o).getRightMenuShow,"on-clickoutside":a(b),onSelect:a(R)},null,8,["x","y","options","show","on-clickoutside","onSelect"])],64)}}});var ce=U(ie,[["__scopeId","data-v-1dceed4b"]]),he=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"}));export{Ee as c,v as d,he as i,_ as l,re as u};
