var D=(n,g,r)=>new Promise((v,i)=>{var e=m=>{try{d(r.next(m))}catch(c){i(c)}},u=m=>{try{d(r.throw(m))}catch(c){i(c)}},d=m=>m.done?v(m.value):Promise.resolve(m.value).then(e,u);d((r=r.apply(n,g)).next())});import{m as B,c as P,ao as oe,a7 as se,A as ne,x as h,V as ae,e as l,o as S,n as F,$ as k,a0 as A,u as t,h as a,B as y,w as _,y as ce,a6 as le,d as re,a4 as b,bh as K,bq as ie,a8 as ue,br as pe,bs as _e,F as de,D as me,q as ge,t as ve,i as he,H as fe,I as Ce,f as $,W as ye,ac as Se,af as Oe}from"./index-6ccd5825.js";import{C as ke}from"./index-242fe0bc.js";import{u as xe}from"./settingStore-65bf2a19.js";import{l as be,c as z}from"./index-df13c02a.js";import{a as Ee,b as Ie,l as we}from"./plugin-514415b8.js";import{i as R}from"./icon-dc9ec865.js";import{u as G,C as V}from"./chartLayoutStore.d-734f340d.js";import{P as E,i as I,u as Fe}from"./chartEditStore-44b9e00c.js";import{p as Le,f as Ae,a as Ne,c as Te}from"./index-b1421cf8.js";import"./index-9eb04d0b.js";import"./index-3482ed06.js";import"./_arrayMap-5cc68f6d.js";import"./table_scrollboard-cd5bf2a6.js";import"./http-d0ef036b.js";import"./SettingItemBox-51ef5e55.js";/* empty css                                                                   */import"./CollapseItem-78f64ffb.js";const He={class:"go-chart-common"},Be={class:"chart-content-list"},Pe=P({__name:"index",props:{selectOptions:{type:Object,default:()=>{}}},setup(n){const g=n,r=be(()=>oe(()=>import("./index-f9f66e5d.js"),["static/js/index-f9f66e5d.js","static/css/index-fdd80d56.css","static/css/SettingItemBox.vue_vue_type_style_index_0_scoped_true_lang-b14d277a.css","static/js/index-290d30a0.js","static/css/index-1ef4cc98.css","static/js/index-6ccd5825.js","static/css/index-9c5d8350.css","static/js/icon-dc9ec865.js","static/js/chartEditStore-44b9e00c.js","static/js/plugin-514415b8.js","static/js/settingStore-65bf2a19.js","static/js/index-df13c02a.js","static/css/index-15102144.css","static/js/index-9eb04d0b.js","static/js/index-3482ed06.js","static/css/index-f65d65f9.css","static/js/index-b1421cf8.js","static/css/index-4e5fc3c2.css","static/js/_arrayMap-5cc68f6d.js","static/js/table_scrollboard-cd5bf2a6.js","static/js/http-d0ef036b.js","static/js/SettingItemBox-51ef5e55.js","static/js/CollapseItem-78f64ffb.js"])),v=xe(),i=se(()=>e.categorysNum>2?!0:!v.getHidePackageOneCategory);let e=ne({menuOptions:[],selectOptions:{},categorys:{all:[]},categoryNames:{all:"\u6240\u6709"},categorysNum:0,saveSelectOptions:{}});const u=h(),d=c=>{for(const o in c){e.selectOptions=c[o];break}};ae(()=>g.selectOptions,c=>{if(e.categorysNum=0,!!c){c.list.forEach(o=>{const f=e.categorys[o.category];e.categorys[o.category]=f&&f.length?[...f,o]:[o],e.categoryNames[o.category]=o.categoryName,e.categorys.all.push(o)});for(const o in e.categorys)e.categorysNum+=1,e.menuOptions.push({key:o,label:e.categoryNames[o]});d(e.categorys),u.value=e.menuOptions[0].key}},{immediate:!0});const m=c=>{e.selectOptions=e.categorys[c]};return(c,o)=>{const f=l("n-menu"),x=l("n-scrollbar");return S(),F("div",He,[k(a(f,{class:"chart-menu-width",value:u.value,"onUpdate:value":[o[0]||(o[0]=N=>u.value=N),m],options:t(e).menuOptions,"icon-size":16,indent:18},null,8,["value","options"]),[[A,t(i)]]),y("div",Be,[a(x,null,{default:_(()=>[a(t(r),{menuOptions:t(e).selectOptions},null,8,["menuOptions"])]),_:1})])])}}});var Re=B(Pe,[["__scopeId","data-v-5ac552be"]]);const De=ce(),W=h(De.getAppTheme),{setItem:U}=G(),{getCharts:H}=le(G()),$e=re({id:"usePackagesStore",state:()=>({packagesList:Object.freeze(Le)}),getters:{getPackagesList(){return this.packagesList}}}),{BarChartIcon:ze}=R.ionicons5,{TableSplitIcon:Ve,RoadmapIcon:Ue,SpellCheckIcon:je,GraphicalDataFlowIcon:Me}=R.carbon,{getPackagesList:j}=$e(),O=[],M={[E.CHARTS]:{icon:b(Ue),label:I.CHARTS},[E.INFORMATIONS]:{icon:b(je),label:I.INFORMATIONS},[E.TABLES]:{icon:b(Ve),label:I.TABLES},[E.DECORATES]:{icon:b(Me),label:I.DECORATES}},qe=()=>{for(const n in j)O.push({key:n,icon:M[n].icon,label:M[n].label,list:j[n]})};qe();let q=O[0].key;const w=h(O[0].key),L=h(O[0]),Ke=(n,g)=>{L.value=g,q===n?U(V.CHARTS,!H.value):U(V.CHARTS,!0),q=n};const Ge=n=>(fe("data-v-15c2c9a5"),n=n(),Ce(),n),We={class:"go-chart-search"},Je={class:"search-list-box"},Qe=["title","onClick"],Xe={class:"list-item-img",alt:"\u5C55\u793A\u56FE"},Ye=Ge(()=>y("div",{class:"popover-modal"},null,-1)),Ze=P({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(n){const g=n;K(s=>({"21cec866":t(W)}));const{SearchIcon:r}=R.ionicons5,v=Fe(),i=h(!1),e=h(void 0),u=h(null),d=h([]),c=(s=>{const p=[];for(const T of s)p.push(...T.list);return p})(g.menuOptions),o=()=>{e.value=void 0,i.value=!1,u.value=null,d.value=[]},f=s=>{if(!he(s)||!s.length){o();return}e.value=!0,i.value=!0,d.value=c.filter(p=>!s||p.title.toLowerCase().includes(s.toLowerCase())),setTimeout(()=>{e.value=void 0},500)},x=s=>{!i.value||!s.target||s.target.closest(".go-chart-search")||o()},N=s=>D(this,null,function*(){try{Ee(),z(s.chartKey,Ae(s)),z(s.conKey,Ne(s));let p=yield Te(s);v.addComponentList(p,!1,!0),v.setTargetSelectChart(p.id),o(),Ie()}catch(p){we(),window.$message.warning("\u56FE\u8868\u6B63\u5728\u7814\u53D1\u4E2D, \u656C\u8BF7\u671F\u5F85...")}});return ie(document,"click",s=>{x(s)}),ue(()=>{pe(document,"click",x)}),(s,p)=>{const T=l("n-icon"),J=l("n-input"),Q=l("n-input-group"),X=l("n-empty"),Y=l("n-text"),Z=l("n-scrollbar"),ee=l("n-popover"),te=_e("lazy");return S(),F("div",We,[a(ee,{class:"chart-search-popover","show-arrow":!1,show:i.value,to:!1,trigger:"hover",placement:"bottom-start"},{trigger:_(()=>[a(Q,null,{default:_(()=>[a(J,{value:u.value,"onUpdate:value":[p[0]||(p[0]=C=>u.value=C),f],valueModifiers:{trim:!0},size:"small",loading:e.value,placeholder:"\u8BF7\u8F93\u5165\u7EC4\u4EF6\u540D\u79F0"},{suffix:_(()=>[k(a(T,{component:t(r)},null,8,["component"]),[[A,!e.value]])]),_:1},8,["value","loading"])]),_:1})]),default:_(()=>[y("div",Je,[a(Z,{style:{"max-height":"500px"}},{default:_(()=>[k(a(X,{size:"small",description:"\u6CA1\u6709\u627E\u5230\u7EC4\u4EF6~"},null,512),[[A,!d.value.length]]),(S(!0),F(de,null,me(d.value,C=>(S(),F("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:C.key,title:C.title,onClick:nt=>N(C)},[k(y("img",Xe,null,512),[[te,C.image]]),a(Y,{class:"list-item-fs",depth:"2"},{default:_(()=>[ge(ve(C.title),1)]),_:2},1024)],8,Qe))),128))]),_:1}),Ye])]),_:1},8,["show"])])}}});var et=B(Ze,[["__scopeId","data-v-15c2c9a5"]]);const tt={class:"menu-width-box"},ot={class:"menu-component-box"},st=P({__name:"index",setup(n){return K(g=>({"73ce7194":t(W)})),(g,r)=>{const v=l("n-icon"),i=l("n-menu"),e=l("go-skeleton");return S(),$(t(ke),{class:Oe(["go-content-charts",{scoped:!t(H)}]),title:"\u7EC4\u4EF6",depth:1,backIcon:!1},{icon:_(()=>[a(v,{size:"14",depth:2},{default:_(()=>[a(t(ze))]),_:1})]),"top-right":_(()=>[k(a(t(et),{menuOptions:t(O)},null,8,["menuOptions"]),[[A,t(H)]])]),default:_(()=>[y("aside",null,[y("div",tt,[a(i,{class:"menu-width",value:t(w),"onUpdate:value":[r[0]||(r[0]=u=>ye(w)?w.value=u:null),t(Ke)],options:t(O),"icon-size":16,indent:18},null,8,["value","options","onUpdate:value"]),y("div",ot,[a(e,{load:!t(L),round:"",text:"",repeat:2,style:{width:"90%"}},null,8,["load"]),t(L)?(S(),$(t(Re),{selectOptions:t(L),key:t(w)},null,8,["selectOptions"])):Se("",!0)])])])]),_:1},8,["class"])}}});var kt=B(st,[["__scopeId","data-v-e9ccee3c"]]);export{kt as default};
